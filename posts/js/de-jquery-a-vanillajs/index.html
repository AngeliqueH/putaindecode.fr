
<!DOCTYPE html>
<!--
  HEY YOU, STOP LOOKING AT MY SOURCE CODE
  Just check it out directly on Github :

  https://github.com/putaindecode/website.git
-->
<html lang="fr" class="no-js no-touch ">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<script>(function(docEl) {
  docEl.className = docEl.className.replace(/\bno-js\b/, 'js');
  if ('ontouchstart' in docEl) { docEl.className = docEl.className.replace(/\bno-touch\b/, 'touch'); }
})(document.documentElement);</script>

<meta charset="utf-8">
<title>De jQuery à Vanilla JS</title>
<meta name="description" content="">
<base href="/" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="feed.xml" rel="alternate" type="application/rss+xml">

<link rel="stylesheet" href="/assets/css/putaindecode.css?20131207131920">




</head>
<body>

<div class="">
  <nav class="putainde-Nav">
	<div class="grid">
		<div class="grid__cell">
			<a class="putainde-SiteTitle" href="/">
				<img class="putainde-Logo" alt="Putain de Code !" src="/assets/img/p!-logo.svg" />
				Putain de Code !
			</a>

			<span class="putainde-Baseline">On voulait mettre une baseline mais on a pas été foutu d&#x27;en trouver une</span>

			<ul class="putainde-Nav-list">
				<li class=""><a class="putainde-Nav-list-item " href="/">Home</a>
				<li class=""><a class="putainde-Nav-list-item " href="c-est-quoi-putaindecode">Putain de ... ?</a>
				<li class=""><a class="putainde-Nav-list-item " href="posts">Les Posts</a>
				<li class=""><a class="putainde-Nav-list-item " href="le-crew">Le Crew</a>
			</ul>
		</div>
	</div>
</nav>
 
  <article class="putainde-Content grid putainde-Post">
    <header class="putainde-Content-header grid__cell unit-1-1">
      <h1 class="putainde-Content-title">De jQuery à Vanilla JS</h1>
      <div class="putainde-Content-metas">
        <span class="putainde-Content-author">Par <span class="putainde-Author">kud</span></span>
        <span class="putainde-Content-readingTime">Temps de lecture: environ 5min</span>
        <span class="putainde-Content-tags">Tags: javascript,jquery,vanillajs</span>
      </div>
    </header>
    <div class="putainde-Content-body grid__cell unit-3-4--m">
    


<div style="float: left; margin-right: 15px; background: white; padding: 5px; border-radius: 4px; margin-top: 10px"><img src="/media/jquery-die.jpg"></div>

<p>Oui alors jQuery, c&#39;est sûrement très bien, ça simplifie pas mal de choses et le <em>chaining</em> est intéressant mais eeeest-ce que vous connaissez l&#39;équivalent en <em>pur</em> JavaScript ? Pas sûr hein.</p>
<p>Ce petit article vous propose de quoi peut-être vous faire changer d&#39;avis sur la bibliothèque qui pèse tout de même environ ~80ko.</p>
<p><em>Note : <a href="http://vanilla-js.com/">Vanilla JS</a> n&#39;est pas un framework mais veut simplement dire &quot;à nu&quot;, c&#39;est du JavaScript sans bibliothèque.</em></p>
<p>C&#39;est parti !</p>
<h2 id="table-des-mati-res">Table des matières</h2>
<ol>
<li><a href="/posts/js/de-jquery-a-vanillajs/#-v-nements">Évènements</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#s-lecteurs">Sélecteurs</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#attributs">Attributs</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#classes">Classes</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#manipulation">Manipulation</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#navigation">Navigation</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#ajax">AJAX</a></li>
<li><a href="/posts/js/de-jquery-a-vanillajs/#jsonp">JSONP</a></li>
</ol>
<h2 id="-v-nements">Évènements</h2>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$(document).ready(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="comment">// code</span>
})

<span class="comment">// Vanilla</span>
document.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="comment">// code</span>
})</code></pre>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$(<span class="string">'a'</span>).click(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="comment">// code…</span>
})

<span class="comment">// Vanilla</span>
[].forEach.call(document.querySelectorAll(<span class="string">'a'</span>), <span class="function"><span class="keyword">function</span><span class="params">(el)</span> {</span>
  el.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="comment">// code…</span>
  })
})</code></pre>
<h2 id="s-lecteurs">Sélecteurs</h2>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
<span class="keyword">var</span> divs = $(<span class="string">'div'</span>)

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> divs = document.querySelectorAll(<span class="string">'div'</span>)</code></pre>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
<span class="keyword">var</span> newDiv = $(<span class="string">'&lt;div/&gt;'</span>)

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> newDiv = document.createElement(<span class="string">'div'</span>)</code></pre>
<h2 id="attributs">Attributs</h2>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$(<span class="string">'img'</span>).filter(<span class="string">':first'</span>).attr(<span class="string">'alt'</span>, <span class="string">'My image'</span>)

<span class="comment">// Vanilla</span>
document.querySelector(<span class="string">'img'</span>).setAttribute(<span class="string">'alt'</span>, <span class="string">'My image'</span>)</code></pre>
<h2 id="classes">Classes</h2>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
newDiv.addClass(<span class="string">'foo'</span>)

<span class="comment">// Vanilla</span>
newDiv.classList.add(<span class="string">'foo'</span>)</code></pre>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
newDiv.toggleClass(<span class="string">'foo'</span>)

<span class="comment">// Vanilla</span>
newDiv.classList.toggle(<span class="string">'foo'</span>)</code></pre>
<h2 id="manipulation">Manipulation</h2>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$(<span class="string">'body'</span>).append($(<span class="string">'&lt;p/&gt;'</span>))

<span class="comment">// Vanilla</span>
document.body.appendChild(document.createElement(<span class="string">'p'</span>))</code></pre>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
<span class="keyword">var</span> clonedElement = $(<span class="string">'#about'</span>).clone()

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> clonedElement = document.getElementById(<span class="string">'about'</span>).cloneNode(<span class="literal">true</span>)</code></pre>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$(<span class="string">'#wrap'</span>).empty()

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> wrap = document.getElementById(<span class="string">'wrap'</span>)
<span class="keyword">while</span>(wrap.firstChild) wrap.removeChild(wrap.firstChild)</code></pre>
<h2 id="navigation">Navigation</h2>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
<span class="keyword">var</span> parent = $(<span class="string">'#about'</span>).parent()

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> parent = document.getElementById(<span class="string">'about'</span>).parentNode</code></pre>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
<span class="keyword">if</span>($(<span class="string">'#wrap'</span>).is(<span class="string">':empty'</span>))

<span class="comment">// Vanilla</span>
<span class="keyword">if</span>(!document.getElementById(<span class="string">'wrap'</span>).hasChildNodes())</code></pre>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
<span class="keyword">var</span> nextElement = $(<span class="string">'#wrap'</span>).next()

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> nextElement = document.getElementById(<span class="string">'wrap'</span>).nextSibling</code></pre>
<h2 id="ajax">AJAX</h2>
<h3 id="get">GET</h3>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$.get(<span class="string">'//example.com'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
  <span class="comment">// code</span>
})

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> httpRequest = <span class="keyword">new</span> XMLHttpRequest()
httpRequest.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
  <span class="comment">// code</span>
}
httpRequest.open(<span class="string">'GET'</span>, url)
httpRequest.send()</code></pre>
<h3 id="post">POST</h3>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$.post(<span class="string">'//example.com'</span>, { username: username }, <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
  <span class="comment">// code</span>
})

<span class="comment">// Vanilla</span>
<span class="keyword">var</span> httpRequest = <span class="keyword">new</span> XMLHttpRequest()
httpRequest.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
  <span class="comment">// code</span>
}
httpRequest.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/x-www-form-urlencoded'</span>)
httpRequest.open(<span class="string">'POST'</span>, url)
httpRequest.send(<span class="string">'username='</span> + encodeURIComponent(username))</code></pre>
<h3 id="jsonp">JSONP</h3>
<pre><code class="language-javascript"><span class="comment">// jQuery</span>
$.getJSON(<span class="string">'//openexchangerates.org/latest.json?callback=?'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
  <span class="comment">// code</span>
})

<span class="comment">// Vanilla</span>
<span class="function"><span class="keyword">function</span> <span class="title">success</span><span class="params">(data)</span> {</span>
  <span class="comment">// code</span>
}
<span class="keyword">var</span> scr = document.createElement(<span class="string">'script'</span>)
scr.src = <span class="string">'//openexchangerates.org/latest.json?callback=formatCurrency'</span>
document.body.appendChild(scr)</code></pre>
<p>Cela vous parait-il encore difficile de vous passer de jQuery ? :)</p>
<p>Un grand merci à <a href="http://playground.deaxon.com/js/vanilla-js/">@deaxon</a> qui est à l&#39;origine de cet éclaircissement.</p>
<h2 id="a-creuser">A creuser</h2>
<p>Il existe une version minimaliste de jQuery basée sur la même API mais beaucoup plus légère s&#39;appelant <a href="http://zeptojs.com/">Zepto</a>. Il est actuellement utilisé en production sur le site mobile de ma boite.</p>



<section class="putainde-AboutTheAuthor">
  
    
    <a class="putainde-AboutTheAuthor-avatar putainde-Author-avatar" href="http://kud.io">
      <img src="https://gravatar.com/avatar/7c72a078c8819fd10f1d11c24d4aa64b?s=300&amp;d=https%3A%2F%2Fidenticons.github.com%2Fc0863a4414cba6aa95014df9e3d9f6a5.png" />
    </a>
    
  
  <h1 class="putainde-AboutTheAuthor-title">
    Écrit par
    <strong class="putainde-AboutTheAuthor-name">kud</strong>
    <a class="putainde-AboutTheAuthor-url" href="http://kud.io"><i class="icon icon_home"> </i></a>
    <a class="putainde-AboutTheAuthor-twitter" href="https://twitter.com/_kud"><i class="icon icon_twitter"> </i></a>
    <a class="putainde-AboutTheAuthor-github" href="https://github.com/kud"><i class="icon icon_github"> </i></a>
  </h1>
  
    
    <div class="putainde-AboutTheAuthor-bio--long"><p>Viking application designer (aka JavaScript engineer), batteur, photographe, amoureux de cinéma, n&#x27;aime pas les longues descriptions.</p>
</div>
  
</section>





<section class="putainde-Comments">
  <h1 class="putainde-Comments-title">Comments</h1>
  <div id="disqus_thread" aria-live="polite">
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>



    </div>
    
    <aside class="putainde-Sidebar grid__cell unit-1-4--m">
    <aside class="putainde-Sidebar-block">
	<h1 class="putainde-Sidebar-block-title">On est partout !</h1>
	<ul class="putainde-Sidebar-block-list--nobullet">
		<li><a href="https://github.com/putaindecode"><i class="icon icon_github"></i> Github</a></li>
		<li><a href="https://twitter.com/putaindecode"><i class="icon icon_twitter"></i> Twitter</a></li>
		<li><a href="#derriere-toi,-c'est-affreux!" onclick="if (confirm('Attention Benjamin...!')) window.location = 'http://www.youtube.com/watch?v=MEKHaG9FxKY&t=44s'; return false;"><i class="icon icon_eye"></i> Derrière toi</a></li>
	</ul>
</aside>
<aside class="putainde-Sidebar-block">
	<h1 class="putainde-Sidebar-block-title">À avoir sous la main</h1>
	<ul class="putainde-Sidebar-block-list--nobullet">
		<li><a href="https://github.com/putaindecode/propositions-de-posts/issues/new"><i class="icon icon_pencil"></i> Proposer un article</a></li>
		<li><a href="https://github.com/putaindecode/propositions-de-posts/issues?labels=post&state=open"><i class="icon icon_bookmarks"></i> Voir les propositions</a></li>
		<li><a href="https://github.com/putaindecode/website/blob/master/src/posts/js/de-jquery-a-vanillajs/index.html.hbs"><i class="icon icon_edit"></i> Modifier cette page</a></li>
	</ul>
</aside>


    </aside>
    
  </article>
  
    <footer class="putainde-Footer">

    <div class="putainde-Footer-colophon grid">
      <div class="putainde-Footer-colophon-left grid__cell unit-5-12--m">
        © 1970 - 2013 Putain de code
      </div>
      <div class="putainde-Footer-colophon-center grid__cell unit-2-12--m">
        <img class="putainde-Footer-logo" alt="Putain de code !" src="/assets/img/p!-logo.svg" />
      </div>
      <div class="putainde-Footer-colophon-right grid__cell unit-5-12--m">
        <span class="putainde-Footer-colophon-item">Made with ❤ by <a href="/le-crew/">le crew</a></span>
        |
        <a class="putainde-Footer-colophon-item" href="projets/">Projets</a>
        |
        <a class="putainde-Footer-colophon-item" href="https://github.com/putaindecode">Contact</a>
      </div>
    </div>
  </footer>

  
</div>
<script src="/assets/js/putaindecode.js?20131207131920"></script>


	
	<script>
		var _gaq=[['_setAccount','UA-43771806-1'],['_trackPageview']];
		(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
		g.src='//www.google-analytics.com/ga.js';
		s.parentNode.insertBefore(g,s)}(document,'script'));
	</script>
	





  <script>
  var disqus_shortname = 'putaindecode',
  
  
  
  disqus_identifier = '',
  disqus_url = '',
  disqus_script = 'embed.js';
  
  (function(d,s) {
  s = d.createElement('script');s.async=1;s.src = '//' + disqus_shortname + '.disqus.com/'+disqus_script;
  (d.getElementsByTagName('head')[0]).appendChild(s);
  })(document);
  </script>



</body>
</html>

